{"ast":null,"code":"var _jsxFileName = \"E:\\\\Raghav\\\\Assigment\\\\StaffManageApp\\\\src\\\\Components\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Card, Input, Radio, Typography, Box } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addUser, getUser } from \"./Api/UserApi.js\";\nimport { getProfile } from \"./Api/ProfileApi.js\";\nimport { setProfileEntries } from \"../Redux/ProfileReducer.js\";\nimport { setLoginObj, setLoginBoolean, setLoginEntries, setIsProfileAvailable, setLoginError, setAdmin } from \"../Redux/LoginReducer\";\nimport InputField from \"./CreateProfiles/InputField.js\";\nimport { inputCardStyle } from \"./CreateProfiles/InputField.js\";\nimport axios from \"axios\";\nimport LoginValidation from \"./Validation/LoginValidation.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const state = useSelector(state => {\n    return state.LoginReducer;\n  });\n  useEffect(() => {\n    getUserDetails();\n  }, []);\n\n  const getUserDetails = async () => {\n    const response = await getUser();\n    dispatch(setLoginEntries(response.data));\n  };\n\n  const loginHandler = async e => {\n    e.preventDefault();\n    const userArr = state.loginEntries;\n\n    if (LoginValidation(state, dispatch)) {\n      const profileAvailable = userArr.some(elem => {\n        return elem.email === state.loginObj.email && elem.password === state.loginObj.password;\n      });\n\n      if (\"Admin@gmail.com\" == state.loginObj.email && \"Admin\" === state.loginObj.password) {\n        dispatch(setAdmin(true));\n      }\n\n      if (profileAvailable) {\n        await getProfile().then(response => {\n          return dispatch(setProfileEntries(response.data));\n        });\n        dispatch(setIsProfileAvailable(true));\n      } else {\n        await addUser(state.loginObj);\n      }\n\n      dispatch(setLoginBoolean(true));\n    }\n  };\n\n  const changeHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    dispatch(setLoginObj({ ...state.loginObj,\n      [name]: value\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      sx: inputCardStyle,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        component: \"div\",\n        variant: \"base\",\n        children: \"Empoyee and Admin login/signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"email\",\n        value: state.loginObj.email,\n        onChange: e => changeHandler(e),\n        width: \"65%\",\n        type: \"email\",\n        label: \"Email\",\n        error: state.loginError.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"password\",\n        value: state.loginObj.password,\n        onChange: e => changeHandler(e),\n        width: \"65%\",\n        type: \"password\",\n        label: \"Password\",\n        error: state.loginError.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: \"block\",\n          textAlign: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: loginHandler,\n          variant: \"contained\",\n          color: \"success\",\n          children: \"Login/Signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"S+pMfyAoJZ7H2DEEeEiK+kYYpZs=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Button","Card","Input","Radio","Typography","Box","React","useEffect","useState","useDispatch","useSelector","addUser","getUser","getProfile","setProfileEntries","setLoginObj","setLoginBoolean","setLoginEntries","setIsProfileAvailable","setLoginError","setAdmin","InputField","inputCardStyle","axios","LoginValidation","Login","dispatch","state","LoginReducer","getUserDetails","response","data","loginHandler","e","preventDefault","userArr","loginEntries","profileAvailable","some","elem","email","loginObj","password","then","changeHandler","name","value","target","loginError","display","textAlign"],"sources":["E:/Raghav/Assigment/StaffManageApp/src/Components/Login/Login.js"],"sourcesContent":["import { Button, Card, Input, Radio, Typography, Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addUser,getUser } from \"./Api/UserApi.js\";\r\nimport { getProfile } from \"./Api/ProfileApi.js\";\r\nimport { setProfileEntries } from \"../Redux/ProfileReducer.js\";\r\nimport {\r\n  setLoginObj,\r\n  setLoginBoolean,\r\n  setLoginEntries,\r\n  setIsProfileAvailable,\r\n  setLoginError,\r\n  setAdmin,\r\n} from \"../Redux/LoginReducer\";\r\nimport InputField from \"./CreateProfiles/InputField.js\";\r\nimport { inputCardStyle } from \"./CreateProfiles/InputField.js\";\r\nimport axios from \"axios\";\r\nimport LoginValidation from \"./Validation/LoginValidation.js\";\r\n\r\nconst Login = () => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => {\r\n    return state.LoginReducer;\r\n  });\r\n\r\n  useEffect(() => {\r\n    getUserDetails();\r\n  }, []);\r\n\r\n  const getUserDetails = async () => {\r\n    const response = await getUser();\r\n    dispatch(setLoginEntries(response.data));\r\n  };\r\n\r\n  const loginHandler = async (e) => {\r\n    e.preventDefault();\r\n    const userArr = state.loginEntries;\r\n    if (LoginValidation(state,dispatch)) {\r\n      const profileAvailable = userArr.some((elem) => {\r\n        return (\r\n          elem.email === state.loginObj.email &&\r\n          elem.password === state.loginObj.password\r\n        );\r\n\r\n      });\r\n      if (\r\n        \"Admin@gmail.com\" == state.loginObj.email &&\r\n        \"Admin\" === state.loginObj.password\r\n      ) {\r\n        dispatch(setAdmin(true));\r\n      }\r\n\r\n      if (profileAvailable) {\r\n        await getProfile().then((response) => {\r\n          return dispatch(setProfileEntries(response.data));\r\n        });\r\n        dispatch(setIsProfileAvailable(true));\r\n      } else {\r\n        await addUser(state.loginObj);\r\n      }\r\n      dispatch(setLoginBoolean(true));\r\n    }\r\n  };\r\n  const changeHandler = (e) => {\r\n    const { name, value } = e.target;\r\n    dispatch(setLoginObj({ ...state.loginObj, [name]: value }));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Card sx={inputCardStyle}>\r\n        <Typography component={\"div\"} variant=\"base\">\r\n          Empoyee and Admin login/signup\r\n        </Typography>\r\n\r\n        <InputField\r\n          name={\"email\"}\r\n          value={state.loginObj.email}\r\n          onChange={(e) => changeHandler(e)}\r\n          width={\"65%\"}\r\n          type=\"email\"\r\n          label={\"Email\"}\r\n          error={state.loginError.email}\r\n        />\r\n        <InputField\r\n          name=\"password\"\r\n          value={state.loginObj.password}\r\n          onChange={(e) => changeHandler(e)}\r\n          width={\"65%\"}\r\n          type=\"password\"\r\n          label={\"Password\"}\r\n          error={state.loginError.password}\r\n        />\r\n\r\n        <Box sx={{ display: \"block\", textAlign: \"center\" }}>\r\n          <Button onClick={loginHandler} variant=\"contained\" color=\"success\">\r\n            Login/Signup\r\n          </Button>\r\n        </Box>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}